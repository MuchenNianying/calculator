<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- 设置文档字符编码为UTF-8 -->
    <meta charset="UTF-8">
    <!-- 设置页面视口以适应不同设备 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 设置页面标题 -->
    <title>多功能计算器</title>
    <!-- 内联CSS样式 -->
    <style>
        /* 重置所有元素的margin和padding为0 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* 设置body的基本样式，包括渐变背景和最小高度 */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* 设置容器样式，包括最大宽度、背景色、圆角和阴影 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        /* 设置头部样式，包括渐变背景、白色文字和居中对齐 */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        /* 设置头部标题样式，包括字体大小和下边距 */
        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        /* 设置导航标签样式，包括flex布局和底部边框 */
        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        /* 设置导航标签按钮样式，包括内边距、光标和过渡效果 */
        .nav-tab {
            padding: 12px 20px;
            cursor: pointer;
            border: none;
            background: #f8f9fa;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        /* 设置活动标签的样式，包括背景色和文字颜色 */
        .nav-tab.active {
            background: #667eea;
            color: white;
        }

        /* 设置悬停标签的样式，但不包括活动标签 */
        .nav-tab:hover:not(.active) {
            background: #e9ecef;
        }

        /* 设置计算器部分的默认样式，包括隐藏和最小高度 */
        .calculator-section {
            display: none;
            padding: 30px;
            min-height: 500px;
        }

        /* 设置活动计算器部分的样式，包括显示 */
        .calculator-section.active {
            display: block;
        }

        /* 设置输入组的下边距 */
        .input-group {
            margin-bottom: 15px;
        }

        /* 设置输入组标签的样式，包括显示块、下边距和粗体 */
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        /* 设置输入框和选择框的样式，包括宽度、内边距、边框和过渡效果 */
        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        /* 设置输入框和选择框获得焦点时的样式 */
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        /* 设置按钮样式，包括渐变背景、白色文字、无边框和过渡效果 */
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: transform 0.2s ease;
        }

        /* 设置按钮悬停时的样式，包括垂直变换 */
        .btn:hover {
            transform: translateY(-2px);
        }

        /* 设置结果框的样式，包括上边距、内边距、背景色和左侧边框 */
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        /* 设置网格按钮的样式，包括网格布局和间距 */
        .grid-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        /* 设置网格按钮中按钮的样式，包括内边距、边框和过渡效果 */
        .grid-buttons button {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        /* 设置网格按钮中按钮悬停时的样式 */
        .grid-buttons button:hover {
            background: #667eea;
            color: white;
        }

        /* 设置科学按钮的样式，包括网格布局和间距 */
        .scientific-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-top: 15px;
        }

        /* 设置转换器网格的样式，包括自适应网格布局和间距 */
        .converter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* 设置转换器项目的样式，包括内边距、边框和背景色 */
        .converter-item {
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 10px;
            background: #f9f9f9;
        }

        /* 设置转换器项目标题的样式，包括下边距和颜色 */
        .converter-item h3 {
            margin-bottom: 15px;
            color: #333;
        }

        /* 设置房贷计算器的最大宽度和居中 */
        .mortgage-calculator {
            max-width: 600px;
            margin: 0 auto;
        }

        /* 设置个税计算器的最大宽度和居中 */
        .tax-calculator {
            max-width: 700px;
            margin: 0 auto;
        }

        /* 设置二进制转换器的最大宽度和居中 */
        .binary-converter {
            max-width: 500px;
            margin: 0 auto;
        }

        /* 设置媒体查询，适配小屏幕设备 */
        @media (max-width: 768px) {
            /* 设置小屏幕下导航标签为垂直布局 */
            .nav-tabs {
                flex-direction: column;
            }
            
            /* 设置小屏幕下网格按钮为3列布局 */
            .grid-buttons {
                grid-template-columns: repeat(3, 1fr);
            }
            
            /* 设置小屏幕下科学按钮为3列布局 */
            .scientific-buttons {
                grid-template-columns: repeat(3, 1fr);
            }
            
            /* 设置小屏幕下转换器网格为单列布局 */
            .converter-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 主容器 -->
    <div class="container">
        <!-- 头部区域 -->
        <div class="header">
            <!-- 标题 -->
            <h1>多功能计算器</h1>
            <!-- 副标题 -->
            <p>包含普通计算、科学计算、各种转换功能</p>
        </div>

        <!-- 导航标签区域 -->
        <div class="nav-tabs">
            <!-- 普通计算器标签 -->
            <button class="nav-tab active" onclick="showSection('basic')">普通计算器</button>
            <!-- 科学计算器标签 -->
            <button class="nav-tab" onclick="showSection('scientific')">科学计算器</button>
            <!-- 汇率转换标签 -->
            <button class="nav-tab" onclick="showSection('currency')">汇率转换</button>
            <!-- 房贷计算标签 -->
            <button class="nav-tab" onclick="showSection('mortgage')">房贷计算</button>
            <!-- 个税计算标签 -->
            <button class="nav-tab" onclick="showSection('tax')">个税计算</button>
            <!-- 单位转换标签 -->
            <button class="nav-tab" onclick="showSection('conversions')">单位转换</button>
            <!-- 高级转换标签 -->
            <button class="nav-tab" onclick="showSection('advanced')">高级转换</button>
        </div>

        <!-- 普通计算器部分 -->
        <div id="basic" class="calculator-section active">
            <!-- 普通计算器标题 -->
            <h2>普通计算器</h2>
            <!-- 显示屏 -->
            <div class="input-group">
                <input type="text" id="display" readonly style="text-align: right; font-size: 24px; height: 60px;">
            </div>
            <!-- 按钮网格 -->
            <div class="grid-buttons">
                <!-- 清除按钮 -->
                <button onclick="clearDisplay()">C</button>
                <!-- 删除按钮 -->
                <button onclick="deleteLast()">←</button>
                <!-- 百分比按钮 -->
                <button onclick="appendToDisplay('%')">%</button>
                <!-- 除法按钮 -->
                <button onclick="appendToDisplay('/')">÷</button>
                
                <!-- 数字7按钮 -->
                <button onclick="appendToDisplay('7')">7</button>
                <!-- 数字8按钮 -->
                <button onclick="appendToDisplay('8')">8</button>
                <!-- 数字9按钮 -->
                <button onclick="appendToDisplay('9')">9</button>
                <!-- 乘法按钮 -->
                <button onclick="appendToDisplay('*')">×</button>
                
                <!-- 数字4按钮 -->
                <button onclick="appendToDisplay('4')">4</button>
                <!-- 数字5按钮 -->
                <button onclick="appendToDisplay('5')">5</button>
                <!-- 数字6按钮 -->
                <button onclick="appendToDisplay('6')">6</button>
                <!-- 减法按钮 -->
                <button onclick="appendToDisplay('-')">-</button>
                
                <!-- 数字1按钮 -->
                <button onclick="appendToDisplay('1')">1</button>
                <!-- 数字2按钮 -->
                <button onclick="appendToDisplay('2')">2</button>
                <!-- 数字3按钮 -->
                <button onclick="appendToDisplay('3')">3</button>
                <!-- 加法按钮 -->
                <button onclick="appendToDisplay('+')">+</button>
                
                <!-- 数字0按钮，跨两列 -->
                <button onclick="appendToDisplay('0')" style="grid-column: span 2;">0</button>
                <!-- 小数点按钮 -->
                <button onclick="appendToDisplay('.')">.</button>
                <!-- 等于按钮 -->
                <button onclick="calculate()" style="background: #28a745; color: white;">=</button>
            </div>
        </div>

        <!-- 科学计算器部分 -->
        <div id="scientific" class="calculator-section">
            <!-- 科学计算器标题 -->
            <h2>科学计算器</h2>
            <!-- 科学计算器显示屏 -->
            <div class="input-group">
                <input type="text" id="scientificDisplay" readonly style="text-align: right; font-size: 24px; height: 60px;">
            </div>
            <!-- 科学按钮网格 -->
            <div class="scientific-buttons">
                <!-- 正弦函数按钮 -->
                <button onclick="appendToScientific('sin(')">sin</button>
                <!-- 余弦函数按钮 -->
                <button onclick="appendToScientific('cos(')">cos</button>
                <!-- 正切函数按钮 -->
                <button onclick="appendToScientific('tan(')">tan</button>
                <!-- 对数函数按钮 -->
                <button onclick="appendToScientific('log(')">log</button>
                <!-- 自然对数函数按钮 -->
                <button onclick="appendToScientific('ln(')">ln</button>
                
                <!-- 圆周率按钮 -->
                <button onclick="appendToScientific('π')">π</button>
                <!-- 自然常数按钮 -->
                <button onclick="appendToScientific('e')">e</button>
                <!-- 幂运算按钮 -->
                <button onclick="appendToScientific('^')">x^y</button>
                <!-- 平方根按钮 -->
                <button onclick="appendToScientific('√(')">√</button>
                <!-- 阶乘按钮 -->
                <button onclick="appendToScientific('!')">x!</button>
                
                <!-- 左括号按钮 -->
                <button onclick="appendToScientific('(')">(</button>
                <!-- 右括号按钮 -->
                <button onclick="appendToScientific(')')">)</button>
                <!-- 数字7按钮 -->
                <button onclick="appendToScientific('7')">7</button>
                <!-- 数字8按钮 -->
                <button onclick="appendToScientific('8')">8</button>
                <!-- 数字9按钮 -->
                <button onclick="appendToScientific('9')">9</button>
                
                <!-- 数字4按钮 -->
                <button onclick="appendToScientific('4')">4</button>
                <!-- 数字5按钮 -->
                <button onclick="appendToScientific('5')">5</button>
                <!-- 数字6按钮 -->
                <button onclick="appendToScientific('6')">6</button>
                <!-- 乘法按钮 -->
                <button onclick="appendToScientific('*')">×</button>
                <!-- 除法按钮 -->
                <button onclick="appendToScientific('/')">÷</button>
                
                <!-- 数字1按钮 -->
                <button onclick="appendToScientific('1')">1</button>
                <!-- 数字2按钮 -->
                <button onclick="appendToScientific('2')">2</button>
                <!-- 数字3按钮 -->
                <button onclick="appendToScientific('3')">3</button>
                <!-- 加法按钮 -->
                <button onclick="appendToScientific('+')">+</button>
                <!-- 减法按钮 -->
                <button onclick="appendToScientific('-')">-</button>
                
                <!-- 数字0按钮 -->
                <button onclick="appendToScientific('0')">0</button>
                <!-- 小数点按钮 -->
                <button onclick="appendToScientific('.')">.</button>
                <!-- 清除按钮 -->
                <button onclick="clearScientific()">C</button>
                <!-- 等于按钮 -->
                <button onclick="calculateScientific()" style="background: #28a745; color: white;">=</button>
                <!-- 删除按钮 -->
                <button onclick="deleteLastScientific()">←</button>
            </div>
        </div>

        <!-- 汇率转换部分 -->
        <div id="currency" class="calculator-section">
            <!-- 汇率转换标题 -->
            <h2>汇率转换</h2>
            <!-- 金额输入组 -->
            <div class="input-group">
                <label>金额</label>
                <input type="number" id="currencyAmount" placeholder="输入金额">
            </div>
            <!-- 源货币选择组 -->
            <div class="input-group">
                <label>从</label>
                <select id="fromCurrency">
                    <option value="CNY">人民币 (CNY)</option>
                    <option value="USD">美元 (USD)</option>
                    <option value="EUR">欧元 (EUR)</option>
                    <option value="JPY">日元 (JPY)</option>
                    <option value="GBP">英镑 (GBP)</option>
                    <option value="KRW">韩元 (KRW)</option>
                    <option value="HKD">港币 (HKD)</option>
                    <option value="TWD">台币 (TWD)</option>
                </select>
            </div>
            <!-- 目标货币选择组 -->
            <div class="input-group">
                <label>到</label>
                <select id="toCurrency">
                    <option value="USD">美元 (USD)</option>
                    <option value="CNY">人民币 (CNY)</option>
                    <option value="EUR">欧元 (EUR)</option>
                    <option value="JPY">日元 (JPY)</option>
                    <option value="GBP">英镑 (GBP)</option>
                    <option value="KRW">韩元 (KRW)</option>
                    <option value="HKD">港币 (HKD)</option>
                    <option value="TWD">台币 (TWD)</option>
                </select>
            </div>
            <!-- 转换按钮 -->
            <button class="btn" onclick="convertCurrency()">转换</button>
            <!-- 汇率转换结果显示区域 -->
            <div id="currencyResult" class="result" style="display: none;"></div>
        </div>

        <!-- 房贷计算部分 -->
        <div id="mortgage" class="calculator-section mortgage-calculator">
            <!-- 房贷计算标题 -->
            <h2>房贷计算</h2>
            <!-- 贷款总额输入组 -->
            <div class="input-group">
                <label>贷款总额 (万元)</label>
                <input type="number" id="loanAmount" placeholder="例如: 100">
            </div>
            <!-- 年利率输入组 -->
            <div class="input-group">
                <label>年利率 (%)</label>
                <input type="number" id="interestRate" step="0.01" placeholder="例如: 4.9">
            </div>
            <!-- 贷款年限输入组 -->
            <div class="input-group">
                <label>贷款年限</label>
                <input type="number" id="loanYears" placeholder="例如: 30">
            </div>
            <!-- 还款方式选择组 -->
            <div class="input-group">
                <label>还款方式</label>
                <select id="repaymentType">
                    <option value="equal">等额本息</option>
                    <option value="decreasing">等额本金</option>
                </select>
            </div>
            <!-- 计算按钮 -->
            <button class="btn" onclick="calculateMortgage()">计算</button>
            <!-- 房贷计算结果显示区域 -->
            <div id="mortgageResult" class="result" style="display: none;"></div>
        </div>

        <!-- 个税计算部分 -->
        <div id="tax" class="calculator-section tax-calculator">
            <!-- 个税计算标题 -->
            <h2>个税计算</h2>
            <!-- 月收入输入组 -->
            <div class="input-group">
                <label>月收入 (元)</label>
                <input type="number" id="monthlyIncome" placeholder="例如: 10000">
            </div>
            <!-- 专项扣除输入组 -->
            <div class="input-group">
                <label>专项扣除 (元)</label>
                <input type="number" id="deductions" placeholder="五险一金等扣除">
            </div>
            <!-- 计算按钮 -->
            <button class="btn" onclick="calculateTax()">计算个税</button>
            <!-- 个税计算结果显示区域 -->
            <div id="taxResult" class="result" style="display: none;"></div>
        </div>

        <!-- 基础单位转换部分 -->
        <div id="conversions" class="calculator-section">
            <!-- 单位转换标题 -->
            <h2>单位转换</h2>
            <!-- 转换器网格 -->
            <div class="converter-grid">
                <!-- 长度转换器项目 -->
                <div class="converter-item">
                    <h3>长度转换</h3>
                    <!-- 长度值输入组 -->
                    <div class="input-group">
                        <input type="number" id="lengthValue" placeholder="输入数值">
                    </div>
                    <!-- 长度源单位选择组 -->
                    <div class="input-group">
                        <select id="lengthFrom">
                            <option value="mm">毫米 (mm)</option>
                            <option value="cm">厘米 (cm)</option>
                            <option value="m">米 (m)</option>
                            <option value="km">千米 (km)</option>
                            <option value="in">英寸 (in)</option>
                            <option value="ft">英尺 (ft)</option>
                            <option value="yd">码 (yd)</option>
                            <option value="mi">英里 (mi)</option>
                        </select>
                    </div>
                    <!-- 长度目标单位选择组 -->
                    <div class="input-group">
                        <select id="lengthTo">
                            <option value="m">米 (m)</option>
                            <option value="mm">毫米 (mm)</option>
                            <option value="cm">厘米 (cm)</option>
                            <option value="km">千米 (km)</option>
                            <option value="in">英寸 (in)</option>
                            <option value="ft">英尺 (ft)</option>
                            <option value="yd">码 (yd)</option>
                            <option value="mi">英里 (mi)</option>
                        </select>
                    </div>
                    <!-- 长度转换按钮 -->
                    <button class="btn" onclick="convertLength()">转换</button>
                    <!-- 长度转换结果显示区域 -->
                    <div id="lengthResult" class="result" style="display: none;"></div>
                </div>

                <!-- 面积转换器项目 -->
                <div class="converter-item">
                    <h3>面积转换</h3>
                    <!-- 面积值输入组 -->
                    <div class="input-group">
                        <input type="number" id="areaValue" placeholder="输入数值">
                    </div>
                    <!-- 面积源单位选择组 -->
                    <div class="input-group">
                        <select id="areaFrom">
                            <option value="sqm">平方米 (m²)</option>
                            <option value="sqcm">平方厘米 (cm²)</option>
                            <option value="sqkm">平方千米 (km²)</option>
                            <option value="acre">英亩 (acre)</option>
                            <option value="hectare">公顷 (ha)</option>
                            <option value="sqft">平方英尺 (ft²)</option>
                            <option value="sqin">平方英寸 (in²)</option>
                        </select>
                    </div>
                    <!-- 面积目标单位选择组 -->
                    <div class="input-group">
                        <select id="areaTo">
                            <option value="sqm">平方米 (m²)</option>
                            <option value="sqcm">平方厘米 (cm²)</option>
                            <option value="sqkm">平方千米 (km²)</option>
                            <option value="acre">英亩 (acre)</option>
                            <option value="hectare">公顷 (ha)</option>
                            <option value="sqft">平方英尺 (ft²)</option>
                            <option value="sqin">平方英寸 (in²)</option>
                        </select>
                    </div>
                    <!-- 面积转换按钮 -->
                    <button class="btn" onclick="convertArea()">转换</button>
                    <!-- 面积转换结果显示区域 -->
                    <div id="areaResult" class="result" style="display: none;"></div>
                </div>

                <!-- 重量转换器项目 -->
                <div class="converter-item">
                    <h3>重量转换</h3>
                    <!-- 重量值输入组 -->
                    <div class="input-group">
                        <input type="number" id="weightValue" placeholder="输入数值">
                    </div>
                    <!-- 重量源单位选择组 -->
                    <div class="input-group">
                        <select id="weightFrom">
                            <option value="g">克 (g)</option>
                            <option value="kg">千克 (kg)</option>
                            <option value="t">吨 (t)</option>
                            <option value="lb">磅 (lb)</option>
                            <option value="oz">盎司 (oz)</option>
                            <option value="st">英石 (st)</option>
                        </select>
                    </div>
                    <!-- 重量目标单位选择组 -->
                    <div class="input-group">
                        <select id="weightTo">
                            <option value="kg">千克 (kg)</option>
                            <option value="g">克 (g)</option>
                            <option value="t">吨 (t)</option>
                            <option value="lb">磅 (lb)</option>
                            <option value="oz">盎司 (oz)</option>
                            <option value="st">英石 (st)</option>
                        </select>
                    </div>
                    <!-- 重量转换按钮 -->
                    <button class="btn" onclick="convertWeight()">转换</button>
                    <!-- 重量转换结果显示区域 -->
                    <div id="weightResult" class="result" style="display: none;"></div>
                </div>

                <!-- 体积转换器项目 -->
                <div class="converter-item">
                    <h3>体积转换</h3>
                    <!-- 体积值输入组 -->
                    <div class="input-group">
                        <input type="number" id="volumeValue" placeholder="输入数值">
                    </div>
                    <!-- 体积源单位选择组 -->
                    <div class="input-group">
                        <select id="volumeFrom">
                            <option value="ml">毫升 (ml)</option>
                            <option value="l">升 (L)</option>
                            <option value="m3">立方米 (m³)</option>
                            <option value="gal">加仑 (gal)</option>
                            <option value="pt">品脱 (pt)</option>
                            <option value="qt">夸脱 (qt)</option>
                        </select>
                    </div>
                    <!-- 体积目标单位选择组 -->
                    <div class="input-group">
                        <select id="volumeTo">
                            <option value="l">升 (L)</option>
                            <option value="ml">毫升 (ml)</option>
                            <option value="m3">立方米 (m³)</option>
                            <option value="gal">加仑 (gal)</option>
                            <option value="pt">品脱 (pt)</option>
                            <option value="qt">夸脱 (qt)</option>
                        </select>
                    </div>
                    <!-- 体积转换按钮 -->
                    <button class="btn" onclick="convertVolume()">转换</button>
                    <!-- 体积转换结果显示区域 -->
                    <div id="volumeResult" class="result" style="display: none;"></div>
                </div>

                <!-- 温度转换器项目 -->
                <div class="converter-item">
                    <h3>温度转换</h3>
                    <!-- 温度值输入组 -->
                    <div class="input-group">
                        <input type="number" id="tempValue" placeholder="输入数值">
                    </div>
                    <!-- 温度源单位选择组 -->
                    <div class="input-group">
                        <select id="tempFrom">
                            <option value="celsius">摄氏度 (°C)</option>
                            <option value="fahrenheit">华氏度 (°F)</option>
                            <option value="kelvin">开尔文 (K)</option>
                        </select>
                    </div>
                    <!-- 温度目标单位选择组 -->
                    <div class="input-group">
                        <select id="tempTo">
                            <option value="fahrenheit">华氏度 (°F)</option>
                            <option value="celsius">摄氏度 (°C)</option>
                            <option value="kelvin">开尔文 (K)</option>
                        </select>
                    </div>
                    <!-- 温度转换按钮 -->
                    <button class="btn" onclick="convertTemperature()">转换</button>
                    <!-- 温度转换结果显示区域 -->
                    <div id="tempResult" class="result" style="display: none;"></div>
                </div>

                <!-- 数据转换器项目 -->
                <div class="converter-item">
                    <h3>数据转换</h3>
                    <!-- 数据值输入组 -->
                    <div class="input-group">
                        <input type="number" id="dataValue" placeholder="输入数值">
                    </div>
                    <!-- 数据源单位选择组 -->
                    <div class="input-group">
                        <select id="dataFrom">
                            <option value="B">字节 (B)</option>
                            <option value="KB">千字节 (KB)</option>
                            <option value="MB">兆字节 (MB)</option>
                            <option value="GB">吉字节 (GB)</option>
                            <option value="TB">太字节 (TB)</option>
                            <option value="PB">拍字节 (PB)</option>
                        </select>
                    </div>
                    <!-- 数据目标单位选择组 -->
                    <div class="input-group">
                        <select id="dataTo">
                            <option value="MB">兆字节 (MB)</option>
                            <option value="B">字节 (B)</option>
                            <option value="KB">千字节 (KB)</option>
                            <option value="GB">吉字节 (GB)</option>
                            <option value="TB">太字节 (TB)</option>
                            <option value="PB">拍字节 (PB)</option>
                        </select>
                    </div>
                    <!-- 数据转换按钮 -->
                    <button class="btn" onclick="convertData()">转换</button>
                    <!-- 数据转换结果显示区域 -->
                    <div id="dataResult" class="result" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- 高级转换部分 -->
        <div id="advanced" class="calculator-section">
            <!-- 高级转换标题 -->
            <h2>高级转换</h2>
            <!-- 转换器网格 -->
            <div class="converter-grid">
                <!-- 进制转换器项目 -->
                <div class="converter-item">
                    <h3>进制转换</h3>
                    <div class="binary-converter">
                        <!-- 进制输入框 -->
                        <div class="input-group">
                            <input type="text" id="binaryInput" placeholder="输入数字">
                        </div>
                        <!-- 源进制选择组 -->
                        <div class="input-group">
                            <label>从进制</label>
                            <select id="fromBase">
                                <option value="2">二进制</option>
                                <option value="8">八进制</option>
                                <option value="10">十进制</option>
                                <option value="16">十六进制</option>
                            </select>
                        </div>
                        <!-- 目标进制选择组 -->
                        <div class="input-group">
                            <label>到进制</label>
                            <select id="toBase">
                                <option value="10">十进制</option>
                                <option value="2">二进制</option>
                                <option value="8">八进制</option>
                                <option value="16">十六进制</option>
                            </select>
                        </div>
                        <!-- 进制转换按钮 -->
                        <button class="btn" onclick="convertBase()">转换</button>
                        <!-- 进制转换结果显示区域 -->
                        <div id="baseResult" class="result" style="display: none;"></div>
                    </div>
                </div>

                <!-- 大写数字转换器项目 -->
                <div class="converter-item">
                    <h3>大写数字转换</h3>
                    <!-- 数字输入组 -->
                    <div class="input-group">
                        <input type="number" id="numberInput" placeholder="输入数字">
                    </div>
                    <!-- 大写数字转换按钮 -->
                    <button class="btn" onclick="convertToChineseNumber()">转换为大写</button>
                    <!-- 大写数字转换结果显示区域 -->
                    <div id="chineseNumberResult" class="result" style="display: none;"></div>
                </div>

                <!-- 时间转换器项目 -->
                <div class="converter-item">
                    <h3>时间转换</h3>
                    <!-- 时间值输入组 -->
                    <div class="input-group">
                        <input type="number" id="timeValue" placeholder="输入数值">
                    </div>
                    <!-- 时间源单位选择组 -->
                    <div class="input-group">
                        <select id="timeFrom">
                            <option value="ms">毫秒</option>
                            <option value="s">秒</option>
                            <option value="min">分钟</option>
                            <option value="h">小时</option>
                            <option value="d">天</option>
                            <option value="wk">周</option>
                            <option value="mo">月</option>
                            <option value="y">年</option>
                        </select>
                    </div>
                    <!-- 时间目标单位选择组 -->
                    <div class="input-group">
                        <select id="timeTo">
                            <option value="s">秒</option>
                            <option value="ms">毫秒</option>
                            <option value="min">分钟</option>
                            <option value="h">小时</option>
                            <option value="d">天</option>
                            <option value="wk">周</option>
                            <option value="mo">月</option>
                            <option value="y">年</option>
                        </select>
                    </div>
                    <!-- 时间转换按钮 -->
                    <button class="btn" onclick="convertTime()">转换</button>
                    <!-- 时间转换结果显示区域 -->
                    <div id="timeResult" class="result" style="display: none;"></div>
                </div>

                <!-- 速度转换器项目 -->
                <div class="converter-item">
                    <h3>速度转换</h3>
                    <!-- 速度值输入组 -->
                    <div class="input-group">
                        <input type="number" id="speedValue" placeholder="输入数值">
                    </div>
                    <!-- 速度源单位选择组 -->
                    <div class="input-group">
                        <select id="speedFrom">
                            <option value="mps">米/秒 (m/s)</option>
                            <option value="kmh">千米/小时 (km/h)</option>
                            <option value="mph">英里/小时 (mph)</option>
                            <option value="knot">节 (knot)</option>
                        </select>
                    </div>
                    <!-- 速度目标单位选择组 -->
                    <div class="input-group">
                        <select id="speedTo">
                            <option value="kmh">千米/小时 (km/h)</option>
                            <option value="mps">米/秒 (m/s)</option>
                            <option value="mph">英里/小时 (mph)</option>
                            <option value="knot">节 (knot)</option>
                        </select>
                    </div>
                    <!-- 速度转换按钮 -->
                    <button class="btn" onclick="convertSpeed()">转换</button>
                    <!-- 速度转换结果显示区域 -->
                    <div id="speedResult" class="result" style="display: none;"></div>
                </div>

                <!-- 压强转换器项目 -->
                <div class="converter-item">
                    <h3>压强转换</h3>
                    <!-- 压强值输入组 -->
                    <div class="input-group">
                        <input type="number" id="pressureValue" placeholder="输入数值">
                    </div>
                    <!-- 压强源单位选择组 -->
                    <div class="input-group">
                        <select id="pressureFrom">
                            <option value="pa">帕斯卡 (Pa)</option>
                            <option value="kpa">千帕 (kPa)</option>
                            <option value="mpa">兆帕 (MPa)</option>
                            <option value="bar">巴 (bar)</option>
                            <option value="psi">磅/平方英寸 (psi)</option>
                            <option value="atm">标准大气压 (atm)</option>
                        </select>
                    </div>
                    <!-- 压强目标单位选择组 -->
                    <div class="input-group">
                        <select id="pressureTo">
                            <option value="kpa">千帕 (kPa)</option>
                            <option value="pa">帕斯卡 (Pa)</option>
                            <option value="mpa">兆帕 (MPa)</option>
                            <option value="bar">巴 (bar)</option>
                            <option value="psi">磅/平方英寸 (psi)</option>
                            <option value="atm">标准大气压 (atm)</option>
                        </select>
                    </div>
                    <!-- 压强转换按钮 -->
                    <button class="btn" onclick="convertPressure()">转换</button>
                    <!-- 压强转换结果显示区域 -->
                    <div id="pressureResult" class="result" style="display: none;"></div>
                </div>

                <!-- 功率转换器项目 -->
                <div class="converter-item">
                    <h3>功率转换</h3>
                    <!-- 功率值输入组 -->
                    <div class="input-group">
                        <input type="number" id="powerValue" placeholder="输入数值">
                    </div>
                    <!-- 功率源单位选择组 -->
                    <div class="input-group">
                        <select id="powerFrom">
                            <option value="w">瓦特 (W)</option>
                            <option value="kw">千瓦 (kW)</option>
                            <option value="hp">马力 (hp)</option>
                            <option value="ps">公制马力 (PS)</option>
                        </select>
                    </div>
                    <!-- 功率目标单位选择组 -->
                    <div class="input-group">
                        <select id="powerTo">
                            <option value="kw">千瓦 (kW)</option>
                            <option value="w">瓦特 (W)</option>
                            <option value="hp">马力 (hp)</option>
                            <option value="ps">公制马力 (PS)</option>
                        </select>
                    </div>
                    <!-- 功率转换按钮 -->
                    <button class="btn" onclick="convertPower()">转换</button>
                    <!-- 功率转换结果显示区域 -->
                    <div id="powerResult" class="result" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript脚本 -->
    <script>
        // 修复后的showSection函数 - 确保函数在页面加载前定义
        function showSection(sectionId) {
            // 隐藏所有计算器部分
            const sections = document.querySelectorAll('.calculator-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // 移除所有活动标签
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 显示选中的部分
            document.getElementById(sectionId).classList.add('active');
            
            // 找到并激活对应的标签按钮
            const clickedElement = event ? event.target : null;
            if (clickedElement && clickedElement.classList.contains('nav-tab')) {
                clickedElement.classList.add('active');
            } else {
                // 如果无法获取点击元素，查找对应文本的标签
                const allTabs = document.querySelectorAll('.nav-tab');
                for (let tab of allTabs) {
                    if (tab.textContent.includes(sectionId.charAt(0).toUpperCase() + sectionId.slice(1))) {
                        tab.classList.add('active');
                        break;
                    }
                }
            }
        }

        // 普通计算器功能
        function appendToDisplay(value) {
            // 将值添加到显示屏
            document.getElementById('display').value += value;
        }

        function clearDisplay() {
            // 清除显示屏内容
            document.getElementById('display').value = '';
        }

        function deleteLast() {
            // 删除显示屏最后一个字符
            let display = document.getElementById('display');
            display.value = display.value.slice(0, -1);
        }

        function calculate() {
            try {
                // 获取显示屏表达式
                let expression = document.getElementById('display').value;
                // 替换显示符号为实际运算符
                expression = expression.replace(/×/g, '*').replace(/÷/g, '/');
                // 计算表达式结果
                let result = eval(expression);
                // 显示结果
                document.getElementById('display').value = result;
            } catch (error) {
                // 显示错误信息
                document.getElementById('display').value = '错误';
            }
        }

        // 科学计算器功能
        function appendToScientific(value) {
            // 如果是π，替换为Math.PI的字符串
            if (value === 'π') value = Math.PI.toString();
            // 如果是e，替换为Math.E的字符串
            else if (value === 'e') value = Math.E.toString();
            // 将值添加到科学计算器显示屏
            document.getElementById('scientificDisplay').value += value;
        }

        function clearScientific() {
            // 清除科学计算器显示屏内容
            document.getElementById('scientificDisplay').value = '';
        }

        function deleteLastScientific() {
            // 删除科学计算器显示屏最后一个字符
            let display = document.getElementById('scientificDisplay');
            display.value = display.value.slice(0, -1);
        }

        function calculateScientific() {
            try {
                // 获取科学计算器显示屏表达式
                let expression = document.getElementById('scientificDisplay').value;
                // 处理科学函数
                expression = expression.replace(/sin\(/g, 'Math.sin(');
                expression = expression.replace(/cos\(/g, 'Math.cos(');
                expression = expression.replace(/tan\(/g, 'Math.tan(');
                expression = expression.replace(/log\(/g, 'Math.log10(');
                expression = expression.replace(/ln\(/g, 'Math.log(');
                expression = expression.replace(/√\(/g, 'Math.sqrt(');
                expression = expression.replace(/\^/g, '**');
                
                // 处理阶乘
                expression = expression.replace(/(\d+)!/g, function(match, num) {
                    return factorial(parseInt(num));
                });
                
                // 计算表达式结果
                let result = eval(expression);
                // 显示结果
                document.getElementById('scientificDisplay').value = result;
            } catch (error) {
                // 显示错误信息
                document.getElementById('scientificDisplay').value = '错误';
            }
        }

        function factorial(n) {
            // 计算阶乘
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) {
                result *= i;
            }
            return result;
        }

        // 汇率转换
        function convertCurrency() {
            // 获取金额、源货币和目标货币
            const amount = parseFloat(document.getElementById('currencyAmount').value);
            const from = document.getElementById('fromCurrency').value;
            const to = document.getElementById('toCurrency').value;

            // 检查金额是否有效
            if (isNaN(amount)) {
                alert('请输入有效金额');
                return;
            }

            // 模拟汇率数据（实际应用中应从API获取）
            const exchangeRates = {
                'CNY': {'USD': 0.14, 'EUR': 0.13, 'JPY': 15.0, 'GBP': 0.11, 'KRW': 170, 'HKD': 1.1, 'TWD': 4.2},
                'USD': {'CNY': 7.2, 'EUR': 0.92, 'JPY': 107, 'GBP': 0.78, 'KRW': 1210, 'HKD': 7.8, 'TWD': 30},
                'EUR': {'CNY': 7.8, 'USD': 1.09, 'JPY': 116, 'GBP': 0.85, 'KRW': 1315, 'HKD': 8.5, 'TWD': 32.5},
                'JPY': {'CNY': 0.067, 'USD': 0.0093, 'EUR': 0.0086, 'GBP': 0.0073, 'KRW': 11.3, 'HKD': 0.073, 'TWD': 0.28},
                'GBP': {'CNY': 9.18, 'USD': 1.28, 'EUR': 1.17, 'JPY': 137, 'KRW': 1545, 'HKD': 9.9, 'TWD': 44.5},
                'KRW': {'CNY': 0.0059, 'USD': 0.00083, 'EUR': 0.00076, 'JPY': 0.088, 'GBP': 0.00065, 'HKD': 0.0064, 'TWD': 0.029},
                'HKD': {'CNY': 0.92, 'USD': 0.13, 'EUR': 0.12, 'JPY': 13.7, 'GBP': 0.10, 'KRW': 156, 'TWD': 4.6},
                'TWD': {'CNY': 0.20, 'USD': 0.033, 'EUR': 0.031, 'JPY': 3.57, 'GBP': 0.022, 'KRW': 34.3, 'HKD': 0.22}
            };

            // 如果源货币和目标货币相同，直接显示
            if (from === to) {
                document.getElementById('currencyResult').innerHTML = `${amount} ${from} = ${amount} ${to}`;
            } else {
                // 计算汇率转换结果
                const rate = exchangeRates[from][to];
                const result = amount * rate;
                // 显示汇率转换结果
                document.getElementById('currencyResult').innerHTML = 
                    `${amount} ${from} = ${result.toFixed(2)} ${to} (汇率: 1 ${from} = ${rate} ${to})`;
            }
            // 显示结果区域
            document.getElementById('currencyResult').style.display = 'block';
        }

        // 房贷计算
        function calculateMortgage() {
            // 获取贷款金额、年利率和贷款年限
            const loanAmount = parseFloat(document.getElementById('loanAmount').value) * 10000;
            const annualRate = parseFloat(document.getElementById('interestRate')) / 100;
            const loanYears = parseInt(document.getElementById('loanYears').value);
            const repaymentType = document.getElementById('repaymentType').value;

            // 检查输入是否有效
            if (isNaN(loanAmount) || isNaN(annualRate) || isNaN(loanYears)) {
                alert('请输入有效数据');
                return;
            }

            // 计算月利率和总月数
            const monthlyRate = annualRate / 12;
            const totalMonths = loanYears * 12;

            let monthlyPayment, totalPayment, totalInterest;

            if (repaymentType === 'equal') {
                // 等额本息计算
                monthlyPayment = (loanAmount * monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / 
                                (Math.pow(1 + monthlyRate, totalMonths) - 1);
                totalPayment = monthlyPayment * totalMonths;
            } else {
                // 等额本金计算
                const principalPerMonth = loanAmount / totalMonths;
                let totalPaymentTemp = 0;
                for (let i = 0; i < totalMonths; i++) {
                    const interestThisMonth = (loanAmount - principalPerMonth * i) * monthlyRate;
                    totalPaymentTemp += principalPerMonth + interestThisMonth;
                }
                totalPayment = totalPaymentTemp;
                monthlyPayment = (loanAmount * monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / 
                                (Math.pow(1 + monthlyRate, totalMonths) - 1); // 平均月供
            }

            // 计算总利息
            totalInterest = totalPayment - loanAmount;

            // 显示房贷计算结果
            document.getElementById('mortgageResult').innerHTML = `
                <h3>计算结果</h3>
                <p><strong>贷款总额:</strong> ¥${loanAmount.toLocaleString()}</p>
                <p><strong>还款方式:</strong> ${repaymentType === 'equal' ? '等额本息' : '等额本金'}</p>
                <p><strong>月供:</strong> ¥${monthlyPayment.toLocaleString(undefined, {maximumFractionDigits: 2})}</p>
                <p><strong>还款总额:</strong> ¥${totalPayment.toLocaleString(undefined, {maximumFractionDigits: 2})}</p>
                <p><strong>支付利息:</strong> ¥${totalInterest.toLocaleString(undefined, {maximumFractionDigits: 2})}</p>
                <p><strong>还款月数:</strong> ${totalMonths} 个月</p>
            `;
            // 显示结果区域
            document.getElementById('mortgageResult').style.display = 'block';
        }

        // 个税计算
        function calculateTax() {
            // 获取月收入和专项扣除
            const monthlyIncome = parseFloat(document.getElementById('monthlyIncome').value);
            const deductions = parseFloat(document.getElementById('deductions').value) || 0;

            // 检查月收入是否有效
            if (isNaN(monthlyIncome)) {
                alert('请输入有效月收入');
                return;
            }

            // 个税计算（2023年中国个税标准）
            const taxThreshold = 5000; // 起征点
            const taxableIncome = Math.max(0, monthlyIncome - taxThreshold - deductions);

            let taxRate, quickDeduction;
            if (taxableIncome <= 3000) {
                taxRate = 0.03;
                quickDeduction = 0;
            } else if (taxableIncome <= 12000) {
                taxRate = 0.10;
                quickDeduction = 210;
            } else if (taxableIncome <= 25000) {
                taxRate = 0.20;
                quickDeduction = 1410;
            } else if (taxableIncome <= 35000) {
                taxRate = 0.25;
                quickDeduction = 2660;
            } else if (taxableIncome <= 55000) {
                taxRate = 0.30;
                quickDeduction = 4410;
            } else if (taxableIncome <= 80000) {
                taxRate = 0.35;
                quickDeduction = 7160;
            } else {
                taxRate = 0.45;
                quickDeduction = 15160;
            }

            // 计算应缴个税
            const tax = taxableIncome * taxRate - quickDeduction;
            // 计算税后收入
            const netIncome = monthlyIncome - tax - deductions;

            // 显示个税计算结果
            document.getElementById('taxResult').innerHTML = `
                <h3>个税计算结果</h3>
                <p><strong>月收入:</strong> ¥${monthlyIncome.toLocaleString()}</p>
                <p><strong>专项扣除:</strong> ¥${deductions.toLocaleString()}</p>
                <p><strong>应纳税所得额:</strong> ¥${taxableIncome.toLocaleString(undefined, {maximumFractionDigits: 2})}</p>
                <p><strong>适用税率:</strong> ${(taxRate * 100).toFixed(1)}%</p>
                <p><strong>速算扣除数:</strong> ¥${quickDeduction.toLocaleString()}</p>
                <p><strong>应缴个税:</strong> ¥${tax.toLocaleString(undefined, {maximumFractionDigits: 2})}</p>
                <p><strong>税后收入:</strong> ¥${netIncome.toLocaleString(undefined, {maximumFractionDigits: 2})}</p>
            `;
            // 显示结果区域
            document.getElementById('taxResult').style.display = 'block';
        }

        // 单位转换函数
        function convertLength() {
            // 获取长度值、源单位和目标单位
            const value = parseFloat(document.getElementById('lengthValue').value);
            const from = document.getElementById('lengthFrom').value;
            const to = document.getElementById('lengthTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为米作为中间单位
            let meters;
            switch(from) {
                case 'mm': meters = value / 1000; break;
                case 'cm': meters = value / 100; break;
                case 'm': meters = value; break;
                case 'km': meters = value * 1000; break;
                case 'in': meters = value * 0.0254; break;
                case 'ft': meters = value * 0.3048; break;
                case 'yd': meters = value * 0.9144; break;
                case 'mi': meters = value * 1609.34; break;
                default: meters = value;
            }

            // 从米转换为目标单位
            let result;
            switch(to) {
                case 'mm': result = meters * 1000; break;
                case 'cm': result = meters * 100; break;
                case 'm': result = meters; break;
                case 'km': result = meters / 1000; break;
                case 'in': result = meters / 0.0254; break;
                case 'ft': result = meters / 0.3048; break;
                case 'yd': result = meters / 0.9144; break;
                case 'mi': result = meters / 1609.34; break;
                default: result = meters;
            }

            // 显示长度转换结果
            document.getElementById('lengthResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toFixed(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('lengthResult').style.display = 'block';
        }

        function convertArea() {
            // 获取面积值、源单位和目标单位
            const value = parseFloat(document.getElementById('areaValue').value);
            const from = document.getElementById('areaFrom').value;
            const to = document.getElementById('areaTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为平方米作为中间单位
            let sqmeters;
            switch(from) {
                case 'sqm': sqmeters = value; break;
                case 'sqcm': sqmeters = value / 10000; break;
                case 'sqkm': sqmeters = value * 1000000; break;
                case 'acre': sqmeters = value * 4046.86; break;
                case 'hectare': sqmeters = value * 10000; break;
                case 'sqft': sqmeters = value * 0.092903; break;
                case 'sqin': sqmeters = value * 0.00064516; break;
                default: sqmeters = value;
            }

            // 从平方米转换为目标单位
            let result;
            switch(to) {
                case 'sqm': result = sqmeters; break;
                case 'sqcm': result = sqmeters * 10000; break;
                case 'sqkm': result = sqmeters / 1000000; break;
                case 'acre': result = sqmeters / 4046.86; break;
                case 'hectare': result = sqmeters / 10000; break;
                case 'sqft': result = sqmeters / 0.092903; break;
                case 'sqin': result = sqmeters / 0.00064516; break;
                default: result = sqmeters;
            }

            // 显示面积转换结果
            document.getElementById('areaResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toFixed(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('areaResult').style.display = 'block';
        }

        function convertWeight() {
            // 获取重量值、源单位和目标单位
            const value = parseFloat(document.getElementById('weightValue').value);
            const from = document.getElementById('weightFrom').value;
            const to = document.getElementById('weightTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为千克作为中间单位
            let kg;
            switch(from) {
                case 'g': kg = value / 1000; break;
                case 'kg': kg = value; break;
                case 't': kg = value * 1000; break;
                case 'lb': kg = value * 0.453592; break;
                case 'oz': kg = value * 0.0283495; break;
                case 'st': kg = value * 6.35029; break;
                default: kg = value;
            }

            // 从千克转换为目标单位
            let result;
            switch(to) {
                case 'g': result = kg * 1000; break;
                case 'kg': result = kg; break;
                case 't': result = kg / 1000; break;
                case 'lb': result = kg / 0.453592; break;
                case 'oz': result = kg / 0.0283495; break;
                case 'st': result = kg / 6.35029; break;
                default: result = kg;
            }

            // 显示重量转换结果
            document.getElementById('weightResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toFixed(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('weightResult').style.display = 'block';
        }

        function convertVolume() {
            // 获取体积值、源单位和目标单位
            const value = parseFloat(document.getElementById('volumeValue').value);
            const from = document.getElementById('volumeFrom').value;
            const to = document.getElementById('volumeTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为升作为中间单位
            let liters;
            switch(from) {
                case 'ml': liters = value / 1000; break;
                case 'l': liters = value; break;
                case 'm3': liters = value * 1000; break;
                case 'gal': liters = value * 3.78541; break;
                case 'pt': liters = value * 0.473176; break;
                case 'qt': liters = value * 0.946353; break;
                default: liters = value;
            }

            // 从升转换为目标单位
            let result;
            switch(to) {
                case 'ml': result = liters * 1000; break;
                case 'l': result = liters; break;
                case 'm3': result = liters / 1000; break;
                case 'gal': result = liters / 3.78541; break;
                case 'pt': result = liters / 0.473176; break;
                case 'qt': result = liters / 0.946353; break;
                default: result = liters;
            }

            // 显示体积转换结果
            document.getElementById('volumeResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toFixed(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('volumeResult').style.display = 'block';
        }

        function convertTemperature() {
            // 获取温度值、源单位和目标单位
            const value = parseFloat(document.getElementById('tempValue').value);
            const from = document.getElementById('tempFrom').value;
            const to = document.getElementById('tempTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            let celsius;
            // 转换为摄氏度
            switch(from) {
                case 'celsius': celsius = value; break;
                case 'fahrenheit': celsius = (value - 32) * 5/9; break;
                case 'kelvin': celsius = value - 273.15; break;
                default: celsius = value;
            }

            // 从摄氏度转换为目标单位
            let result;
            switch(to) {
                case 'celsius': result = celsius; break;
                case 'fahrenheit': result = (celsius * 9/5) + 32; break;
                case 'kelvin': result = celsius + 273.15; break;
                default: result = celsius;
            }

            // 显示温度转换结果
            document.getElementById('tempResult').innerHTML = 
                `${value}° ${getUnitName(from)} = ${result.toFixed(2)}° ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('tempResult').style.display = 'block';
        }

        function convertData() {
            // 获取数据值、源单位和目标单位
            const value = parseFloat(document.getElementById('dataValue').value);
            const from = document.getElementById('dataFrom').value;
            const to = document.getElementById('dataTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为字节作为中间单位
            let bytes;
            switch(from) {
                case 'B': bytes = value; break;
                case 'KB': bytes = value * 1024; break;
                case 'MB': bytes = value * 1024 * 1024; break;
                case 'GB': bytes = value * 1024 * 1024 * 1024; break;
                case 'TB': bytes = value * Math.pow(1024, 4); break;
                case 'PB': bytes = value * Math.pow(1024, 5); break;
                default: bytes = value;
            }

            // 从字节转换为目标单位
            let result;
            switch(to) {
                case 'B': result = bytes; break;
                case 'KB': result = bytes / 1024; break;
                case 'MB': result = bytes / (1024 * 1024); break;
                case 'GB': result = bytes / (1024 * 1024 * 1024); break;
                case 'TB': result = bytes / Math.pow(1024, 4); break;
                case 'PB': result = bytes / Math.pow(1024, 5); break;
                default: result = bytes;
            }

            // 显示数据转换结果
            document.getElementById('dataResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toExponential(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('dataResult').style.display = 'block';
        }

        // 进制转换
        function convertBase() {
            // 获取输入值、源进制和目标进制
            const input = document.getElementById('binaryInput').value;
            const fromBase = parseInt(document.getElementById('fromBase').value);
            const toBase = parseInt(document.getElementById('toBase').value);

            // 检查输入是否为空
            if (!input) {
                alert('请输入数值');
                return;
            }

            try {
                // 先转换为十进制
                const decimalValue = parseInt(input, fromBase);
                if (isNaN(decimalValue)) {
                    throw new Error('无效输入');
                }

                // 再转换为目标进制
                const result = decimalValue.toString(toBase).toUpperCase();

                // 显示进制转换结果
                document.getElementById('baseResult').innerHTML = 
                    `${input} (${fromBase}进制) = ${result} (${toBase}进制)<br>
                     十进制值: ${decimalValue}`;
                // 显示结果区域
                document.getElementById('baseResult').style.display = 'block';
            } catch (error) {
                // 显示转换错误信息
                alert('转换错误: ' + error.message);
            }
        }

        // 大写数字转换
        function convertToChineseNumber() {
            // 获取输入的数字
            const number = parseFloat(document.getElementById('numberInput').value);
            if (isNaN(number) || number < 0) {
                alert('请输入有效正数');
                return;
            }

            // 转换为中文大写数字
            const result = numberToChinese(number);
            // 显示大写数字转换结果
            document.getElementById('chineseNumberResult').innerHTML = 
                `${number} = ${result}`;
            // 显示结果区域
            document.getElementById('chineseNumberResult').style.display = 'block';
        }

        function numberToChinese(num) {
            // 定义单位数组
            const units = ['', '十', '百', '千'];
            // 定义大单位数组
            const bigUnits = ['', '万', '亿', '兆'];
            // 定义数字数组
            const digits = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];

            if (num === 0) return '零';

            // 处理整数部分
            let numStr = Math.floor(num).toString();
            let result = '';

            // 按万进制分割
            const parts = [];
            while (numStr.length > 0) {
                parts.push(numStr.slice(-4));
                numStr = numStr.slice(0, -4);
            }

            for (let i = 0; i < parts.length; i++) {
                const part = parts[i];
                if (parseInt(part) !== 0) {
                    const partChinese = convertFourDigits(part);
                    result = partChinese + bigUnits[i] + result;
                } else if (result) {
                    // 添加零
                    if (!result.startsWith('零')) {
                        result = '零' + result;
                    }
                }
            }

            // 处理小数部分
            const decimalPart = num.toString().split('.')[1];
            if (decimalPart) {
                result += '点';
                for (let i = 0; i < decimalPart.length; i++) {
                    result += digits[parseInt(decimalPart[i])];
                }
            }

            // 清理多余的"一十" -> "十"
            result = result.replace(/^一十/, '十');

            return result;
        }

        function convertFourDigits(numStr) {
            // 定义数字数组
            const digits = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];
            // 定义单位数组
            const units = ['', '十', '百', '千'];

            let result = '';
            let zeroCount = 0;

            for (let i = 0; i < numStr.length; i++) {
                const digit = parseInt(numStr[numStr.length - 1 - i]);
                if (digit === 0) {
                    zeroCount++;
                } else {
                    if (zeroCount > 0 && result) {
                        result = digits[0] + result;
                    }
                    result = digits[digit] + units[i] + result;
                    zeroCount = 0;
                }
            }

            return result;
        }

        // 时间转换
        function convertTime() {
            // 获取时间值、源单位和目标单位
            const value = parseFloat(document.getElementById('timeValue').value);
            const from = document.getElementById('timeFrom').value;
            const to = document.getElementById('timeTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为秒作为中间单位
            let seconds;
            switch(from) {
                case 'ms': seconds = value / 1000; break;
                case 's': seconds = value; break;
                case 'min': seconds = value * 60; break;
                case 'h': seconds = value * 3600; break;
                case 'd': seconds = value * 86400; break;
                case 'wk': seconds = value * 604800; break;
                case 'mo': seconds = value * 2629800; break; // 平均月份(30.44天)
                case 'y': seconds = value * 31557600; break; // 平均年份(365.25天)
                default: seconds = value;
            }

            // 从秒转换为目标单位
            let result;
            switch(to) {
                case 'ms': result = seconds * 1000; break;
                case 's': result = seconds; break;
                case 'min': result = seconds / 60; break;
                case 'h': result = seconds / 3600; break;
                case 'd': result = seconds / 86400; break;
                case 'wk': result = seconds / 604800; break;
                case 'mo': result = seconds / 2629800; break;
                case 'y': result = seconds / 31557600; break;
                default: result = seconds;
            }

            // 显示时间转换结果
            document.getElementById('timeResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toExponential(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('timeResult').style.display = 'block';
        }

        // 速度转换
        function convertSpeed() {
            // 获取速度值、源单位和目标单位
            const value = parseFloat(document.getElementById('speedValue').value);
            const from = document.getElementById('speedFrom').value;
            const to = document.getElementById('speedTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为米/秒作为中间单位
            let mps;
            switch(from) {
                case 'mps': mps = value; break;
                case 'kmh': mps = value / 3.6; break;
                case 'mph': mps = value * 0.44704; break;
                case 'knot': mps = value * 0.514444; break;
                default: mps = value;
            }

            // 从米/秒转换为目标单位
            let result;
            switch(to) {
                case 'mps': result = mps; break;
                case 'kmh': result = mps * 3.6; break;
                case 'mph': result = mps / 0.44704; break;
                case 'knot': result = mps / 0.514444; break;
                default: result = mps;
            }

            // 显示速度转换结果
            document.getElementById('speedResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toFixed(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('speedResult').style.display = 'block';
        }

        // 压强转换
        function convertPressure() {
            // 获取压强值、源单位和目标单位
            const value = parseFloat(document.getElementById('pressureValue').value);
            const from = document.getElementById('pressureFrom').value;
            const to = document.getElementById('pressureTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为帕斯卡作为中间单位
            let pa;
            switch(from) {
                case 'pa': pa = value; break;
                case 'kpa': pa = value * 1000; break;
                case 'mpa': pa = value * 1000000; break;
                case 'bar': pa = value * 100000; break;
                case 'psi': pa = value * 6894.76; break;
                case 'atm': pa = value * 101325; break;
                default: pa = value;
            }

            // 从帕斯卡转换为目标单位
            let result;
            switch(to) {
                case 'pa': result = pa; break;
                case 'kpa': result = pa / 1000; break;
                case 'mpa': result = pa / 1000000; break;
                case 'bar': result = pa / 100000; break;
                case 'psi': result = pa / 6894.76; break;
                case 'atm': result = pa / 101325; break;
                default: result = pa;
            }

            // 显示压强转换结果
            document.getElementById('pressureResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toFixed(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('pressureResult').style.display = 'block';
        }

        // 功率转换
        function convertPower() {
            // 获取功率值、源单位和目标单位
            const value = parseFloat(document.getElementById('powerValue').value);
            const from = document.getElementById('powerFrom').value;
            const to = document.getElementById('powerTo').value;

            // 检查数值是否有效
            if (isNaN(value)) {
                alert('请输入有效数值');
                return;
            }

            // 转换为瓦特作为中间单位
            let w;
            switch(from) {
                case 'w': w = value; break;
                case 'kw': w = value * 1000; break;
                case 'hp': w = value * 745.7; break;
                case 'ps': w = value * 735.5; break;
                default: w = value;
            }

            // 从瓦特转换为目标单位
            let result;
            switch(to) {
                case 'w': result = w; break;
                case 'kw': result = w / 1000; break;
                case 'hp': result = w / 745.7; break;
                case 'ps': result = w / 735.5; break;
                default: result = w;
            }

            // 显示功率转换结果
            document.getElementById('powerResult').innerHTML = 
                `${value} ${getUnitName(from)} = ${result.toFixed(6)} ${getUnitName(to)}`;
            // 显示结果区域
            document.getElementById('powerResult').style.display = 'block';
        }

        // 获取单位名称
        function getUnitName(unitCode) {
            // 定义单位名称映射
            const unitNames = {
                // 长度单位
                'mm': '毫米', 'cm': '厘米', 'm': '米', 'km': '千米',
                'in': '英寸', 'ft': '英尺', 'yd': '码', 'mi': '英里',
                
                // 面积单位
                'sqm': '平方米', 'sqcm': '平方厘米', 'sqkm': '平方千米',
                'acre': '英亩', 'hectare': '公顷', 'sqft': '平方英尺', 'sqin': '平方英寸',
                
                // 重量单位
                'g': '克', 'kg': '千克', 't': '吨', 'lb': '磅', 'oz': '盎司', 'st': '英石',
                
                // 体积单位
                'ml': '毫升', 'l': '升', 'm3': '立方米', 'gal': '加仑', 'pt': '品脱', 'qt': '夸脱',
                
                // 温度单位
                'celsius': '摄氏度', 'fahrenheit': '华氏度', 'kelvin': '开尔文',
                
                // 数据单位
                'B': '字节', 'KB': '千字节', 'MB': '兆字节', 'GB': '吉字节', 'TB': '太字节', 'PB': '拍字节',
                
                // 时间单位
                'ms': '毫秒', 's': '秒', 'min': '分钟', 'h': '小时', 'd': '天', 'wk': '周', 'mo': '月', 'y': '年',
                
                // 速度单位
                'mps': '米/秒', 'kmh': '千米/小时', 'mph': '英里/小时', 'knot': '节',
                
                // 压强单位
                'pa': '帕斯卡', 'kpa': '千帕', 'mpa': '兆帕', 'bar': '巴', 'psi': '磅/平方英寸', 'atm': '标准大气压',
                
                // 功率单位
                'w': '瓦特', 'kw': '千瓦', 'hp': '马力', 'ps': '公制马力'
            };
            // 返回单位名称或原始代码
            return unitNames[unitCode] || unitCode;
        }

        // 页面加载时设置默认活动标签
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化时设置第一个标签为活动状态
            document.querySelector('.nav-tab').classList.add('active');
        });
    </script>
</body>
</html>